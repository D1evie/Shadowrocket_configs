#Only Needed Services Over Proxy
#Author: Necessity

[General]
ip-mode = v4-only
skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,localhost,*.local,captive.apple.com
bypass-tun = 10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.168.0.0/16,198.51.100.0/24,203.0.113.0/24,224.0.0.0/4,255.255.255.255/32,239.255.255.250/32,224.0.0.251/32
dns-server = 8.8.8.8,1.1.1.1
doh-server = https://dns.google/dns-query, https://dns.adguard-dns.com/dns-query
allow-wifi-access = false
wifi-access-http-port = 7222
wifi-access-socks5-port = 7221
proxy-test-url = http://bing.com/generate_204
internet-test-url = http://ya.ru
test-timeout = 3
interface-mode = auto
real-ip = *.apple.com,*.icloud.com,time.*.apple.com, time.google.com, time.cloudflare.com, time.windows.com, time.android.com,*.pool.ntp.org, ntp.*
udp-fallback-mode = REJECT

[Proxy]

[Remote Proxy]

[Proxy Chain]

[Proxy Group]
Available = select,ALL_Filter,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Available.png
Custom Domains = select,Available,img-url = https://raw.githubusercontent.com/google/material-design-icons/master/png/action/view_list/materialicons/48dp/2x/baseline_view_list_black_48dp.png
Google = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google.png
YouTube = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png
YouTube Music = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube_Music.png
Spotify = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Spotify.png
TIDAL = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/TIDAL.png
Telegram = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png
Whatsapp = select,Available,img-url = https://raw.githubusercontent.com/homarr-labs/dashboard-icons/main/png/whatsapp.png
Instagram = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Instagram.png
Facebook = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Facebook.png
LinkedIn = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Linkedin.png
Twitter = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Twitter.png
Discord = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Discord.png
TruthSocial = select,Available,img-url = https://upload.wikimedia.org/wikipedia/commons/c/cd/Truth_Social_logo_2022.svg
OpenAI = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/ChatGPT.png
Protonmail = select,Available,img-url = https://raw.githubusercontent.com/NX211/homer-icons/master/png/protonmail.png
Jetbrains = select,Available,img-url = https://raw.githubusercontent.com/mswift42/themecreator/master/jetbrains.png
Dell = select,Available,img-url = https://raw.githubusercontent.com/NX211/homer-icons/master/png/dell.png
Intel = select,Available,img-url = https://raw.githubusercontent.com/TaranVH/LOGOS/master/Intel%20logo%20OLD%20(2005-1968).png
BBC = select,Available,img-url = https://raw.githubusercontent.com/cytec/tvlogos/master/bbc.png
GitHub = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/GitHub.png
Netflix = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netflix.png
IKEA = select,Available,img-url = https://raw.githubusercontent.com/data-doge/damn-lol/master/ikea.png
Adobe = select,Available,img-url = https://raw.githubusercontent.com/homarr-labs/dashboard-icons/main/png/adobe.png
AdobeActivation = select,Available,img-url = https://raw.githubusercontent.com/homarr-labs/dashboard-icons/main/png/adobe.png
Notion = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Notion.png
Cloudflare = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Cloudflare.png
Speedtest = select,Available,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Speedtest.png

[Remote Filter]
ALL_Filter = NameRegex, FilterKey = ".*"

[Rule]
DOMAIN-SUFFIX,local,DIRECT
DEST-PORT,5353,DIRECT
IP-CIDR,224.0.0.251/32,DIRECT,no-resolve
IP-CIDR,239.255.255.250/32,DIRECT,no-resolve
IP-CIDR,10.0.0.0/8,DIRECT,no-resolve
IP-CIDR,172.16.0.0/12,DIRECT,no-resolve
IP-CIDR,192.168.0.0/16,DIRECT,no-resolve
# WebRTC
PROTOCOL,STUN,Available
PROTOCOL,QUIC,Available
DEST-PORT,3478,Available
DEST-PORT,5349,Available
DEST-PORT,16384-32768,Available
DEST-PORT,49152-65535,Available
DOMAIN-KEYWORD,stun,Available
DOMAIN-KEYWORD,turn,Available
DOMAIN-KEYWORD,webrtc,Available
# Session / Oxen
DEST-PORT,22020-22025,Available
DEST-PORT,1090,Available
# Threema
DEST-PORT,22500-22532,Available
FINAL,DIRECT

[Remote Rule]
https://raw.githubusercontent.com/D1evie/Shadowrocket_configs/refs/heads/main/domain.list, policy=Available, tag=Custom Domains, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Google/Google.list, policy=Available, tag=Google, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/YouTube/YouTube.list, policy=Available, tag=YouTube, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/YouTubeMusic/YouTubeMusic.list, policy=Available, tag=YouTube Music, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Spotify/Spotify.list, policy=Available, tag=Spotify, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/TIDAL/TIDAL.list, policy=Available, tag=TIDAL, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Telegram/Telegram.list, policy=Available, tag=Telegram, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Whatsapp/Whatsapp.list, policy=Available, tag=Whatsapp, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Instagram/Instagram.list, policy=Available, tag=Instagram, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Facebook/Facebook.list, policy=Available, tag=Facebook, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/LinkedIn/LinkedIn.list, policy=Available, tag=LinkedIn, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Twitter/Twitter.list, policy=Available, tag=Twitter, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Discord/Discord.list, policy=Available, tag=Discord, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/TruthSocial/TruthSocial.list, policy=Available, tag=TruthSocial, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/OpenAI/OpenAI.list, policy=Available, tag=OpenAI, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Protonmail/Protonmail.list, policy=Available, tag=Protonmail, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Jetbrains/Jetbrains.list, policy=Available, tag=Jetbrains, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Dell/Dell.list, policy=Available, tag=Dell, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Intel/Intel.list, policy=Available, tag=Intel, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/BBC/BBC.list, policy=Available, tag=BBC, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/GitHub/GitHub.list, policy=Available, tag=GitHub, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Netflix/Netflix.list, policy=Available, tag=Netflix, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/IKEA/IKEA.list, policy=Available, tag=IKEA, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Adobe/Adobe.list, policy=Available, tag=Adobe, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/AdobeActivation/AdobeActivation.list, policy=Available, tag=AdobeActivation, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Notion/Notion.list, policy=Available, tag=Notion, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Cloudflare/Cloudflare.list, policy=Available, tag=Cloudflare, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Loon/Speedtest/Speedtest.list, policy=Available, tag=Speedtest, enabled=true

[Rewrite]

[Script]